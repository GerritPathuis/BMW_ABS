"use strict";
(function(b,a){typeof define=="function"&&define.amd?define([],a):typeof exports=="object"?module.exports=a():b.store=a()
})(this,function(){function g(){try{return b in A&&A[b]
}catch(a){return !1
}}var w={},A=window,j=A.document,b="localStorage",m="script",B;
w.disabled=!1,w.version="1.3.17",w.set=function(c,a){},w.get=function(c,a){},w.has=function(a){return w.get(a)!==undefined
},w.remove=function(a){},w.clear=function(){},w.transact=function(c,f,e){e==null&&(e=f,f=null),f==null&&(f={});
var a=w.get(c,f);
e(a),w.set(c,a)
},w.getAll=function(){},w.forEach=function(){},w.serialize=function(a){return JSON.stringify(a)
},w.deserialize=function(c){if(typeof c!="string"){return undefined
}try{return JSON.parse(c)
}catch(a){return c||undefined
}};
if(g()){B=A[b],w.set=function(a,c){return c===undefined?w.remove(a):(B.setItem(a,w.serialize(c)),c)
},w.get=function(a,e){var c=w.deserialize(B.getItem(a));
return c===undefined?e:c
},w.remove=function(a){B.removeItem(a)
},w.clear=function(){B.clear()
},w.getAll=function(){var a={};
return w.forEach(function(c,f){a[c]=f
}),a
},w.forEach=function(a){for(var e=0;
e<B.length;
e++){var c=B.key(e);
a(c,w.get(c))
}}
}else{if(j.documentElement.addBehavior){var z,y;
try{y=new ActiveXObject("htmlfile"),y.open(),y.write("<"+m+">document.w=window</"+m+'><iframe src="/favicon.ico"></iframe>'),y.close(),z=y.w.frames[0].document,B=z.createElement("div")
}catch(v){B=j.createElement("div"),z=j.body
}var k=function(a){return function(){var e=Array.prototype.slice.call(arguments,0);
e.unshift(B),z.appendChild(B),B.addBehavior("#default#userData"),B.load(b);
var c=a.apply(w,e);
return z.removeChild(B),c
}
},x=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),q=function(a){return a.replace(/^d/,"___$&").replace(x,"___")
};
w.set=k(function(c,e,a){return e=q(e),a===undefined?w.remove(e):(c.setAttribute(e,w.serialize(a)),c.save(b),a)
}),w.get=k(function(c,f,e){f=q(f);
var a=w.deserialize(c.getAttribute(f));
return a===undefined?e:a
}),w.remove=k(function(c,a){a=q(a),c.removeAttribute(a),c.save(b)
}),w.clear=k(function(c){var a=c.XMLDocument.documentElement.attributes;
c.load(b);
while(a.length){c.removeAttribute(a[0].name)
}c.save(b)
}),w.getAll=function(a){var c={};
return w.forEach(function(h,f){c[h]=f
}),c
},w.forEach=k(function(c,h){var f=c.XMLDocument.documentElement.attributes;
for(var a=0,e;
e=f[a];
++a){h(e.name,w.deserialize(c.getAttribute(e.name)))
}})
}}try{var d="__storejs__";
w.set(d,d),w.get(d)!=d&&(w.disabled=!0),w.remove(d)
}catch(v){w.disabled=!0
}return w.enabled=!w.disabled,w
});
if(!CQ_Analytics.PersonalInfoStoreMgr){CQ_Analytics.PersonalInfoStoreMgr=CQ_Analytics.PersistedJSONStore.registerNewInstance("personalinfostore");
CQ_Analytics.PersonalInfoStoreMgr.baseUrl=null;
CQ_Analytics.PersonalInfoStoreMgr.callback=null;
CQ_Analytics.PersonalInfoStoreMgr.loadData=function(){if(CQ_Analytics.PersonalInfoStoreMgr.baseUrl==null){return
}var authorizableId=CQ_Analytics.ProfileDataMgr.getInitProperty("authorizableId");
var url=CQ_Analytics.PersonalInfoStoreMgr.baseUrl;
if(CQ_Analytics.PersonalInfoStoreMgr.initialized){if(""!==authorizableId&&authorizableId!=null){url=CQ_Analytics.Utils.addParameter(url,"authorizableId",authorizableId);
url=CQ_Analytics.Utils.addParameter(url,"t",""+(new Date()).getTime());
try{var object=CQ.shared.HTTP.eval(url);
if(object){this.data=object;
this.persist();
this.setProperty("lastRefreshed",new Date().getTime());
if(store.enabled){store.set("maxim_profile",this.data);
store.set("maxim_profile_legacy_changed","false")
}}}catch(error){console.log("Error",error)
}if(CQ_Analytics.PersonalInfoStoreMgr.callback!=null){CQ_Analytics.PersonalInfoStoreMgr.callback()
}}}};
CQ_Analytics.PersonalInfoStoreMgr.init=function(a,b){if(typeof a!=="undefined"){CQ_Analytics.PersonalInfoStoreMgr.baseUrl=a;
CQ_Analytics.PersonalInfoStoreMgr.initialized=true;
CQ_Analytics.PersonalInfoStoreMgr.callback=b;
this.fireEvent("initialize")
}};
CQ_Analytics.CCM.addListener("configloaded",function(){CQ_Analytics.ProfileDataMgr.addListener("update",function(){this.loadData();
this.fireEvent("update")
},CQ_Analytics.PersonalInfoStoreMgr)
},CQ_Analytics.PersonalInfoStoreMgr);
CQ_Analytics.PersonalInfoStoreMgr.addListener("initialize",function(){this.loadData()
});
CQ_Analytics.PersonalInfoStoreMgr.initialized=false;
CQ_Analytics.PersonalInfoStoreMgr.getValue=function(a){if(CQ_Analytics.PersonalInfoStoreMgr.data){if(CQ_Analytics.PersonalInfoStoreMgr.data[a]){return CQ_Analytics.PersonalInfoStoreMgr.data[a]
}}return""
}
};